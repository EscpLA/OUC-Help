(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/me-login/me-login"],{194:function(e,n,t){"use strict";t.r(n);var r=t(195),o=t(197);for(var u in o)"default"!==u&&function(e){t.d(n,e,(function(){return o[e]}))}(u);t(199);var c,i=t(48),a=Object(i["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],c);a.options.__file="components/me-login/me-login.vue",n["default"]=a.exports},195:function(e,n,t){"use strict";t.r(n);var r=t(196);t.d(n,"render",(function(){return r["render"]})),t.d(n,"staticRenderFns",(function(){return r["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return r["recyclableRender"]})),t.d(n,"components",(function(){return r["components"]}))},196:function(e,n,t){"use strict";var r;t.r(n),t.d(n,"render",(function(){return o})),t.d(n,"staticRenderFns",(function(){return c})),t.d(n,"recyclableRender",(function(){return u})),t.d(n,"components",(function(){return r}));try{r={uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,246))}}}catch(i){if(-1===i.message.indexOf("Cannot find module")||-1===i.message.indexOf(".vue"))throw i;console.error(i.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,n=e.$createElement;e._self._c},u=!1,c=[];o._withStripped=!0},197:function(e,n,t){"use strict";t.r(n);var r=t(198),o=t.n(r);for(var u in r)"default"!==u&&function(e){t.d(n,e,(function(){return r[e]}))}(u);n["default"]=o.a},198:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(t(51)),o=(u(t(49)),t(45));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,n){return l(e)||f(e,n)||a(e,n)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,n){if(e){if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0)if(t.push(c.value),n&&t.length===n)break}catch(a){o=!0,u=a}finally{try{r||null==i["return"]||i["return"]()}finally{if(o)throw u}}return t}}function l(e){if(Array.isArray(e))return e}function d(e,n,t,r,o,u,c){try{var i=e[u](c),a=i.value}catch(s){return void t(s)}i.done?n(a):Promise.resolve(a).then(r,o)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var u=e.apply(n,t);function c(e){d(u,r,o,c,i,"next",e)}function i(e){d(u,r,o,c,i,"throw",e)}c(void 0)}))}}function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g={name:"me-login",data:function(){return{}},computed:v({},(0,o.mapState)("m_user",["userInfo"])),methods:v(v({},(0,o.mapMutations)("m_user",["updateUserinfo","updateStuInfo","updateToken"])),{},{getUserProfile:function(n){var t=this;return p(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:({}),e.getUserProfile({desc:"用于完善用户信息",success:function(e){console.log(e),t.updateUserinfo(e.userInfo),t.getToken(e)},fail:function(){return e.$showMsg("您拒绝了登录授权")}});case 2:case"end":return n.stop()}}),n)})))()},getToken:function(n){var t=this;return p(r.default.mark((function n(){var o,u,i,a,s,f,l;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.login().catch((function(e){return e}));case 2:if(o=n.sent,u=c(o,2),i=u[0],a=u[1],!i&&"login:ok"===a.errMsg){n.next=8;break}return n.abrupt("return",e.$showError("登录失败！"));case 8:return console.log("返回值，code",a),s={code:a.code},n.next=12,e.$http.post("/login/",s);case 12:f=n.sent,l=f.data,console.log("loginRes",l),t.updateToken(l.openid),"{}"==JSON.stringify(l.stuInfo)?console.log("1111"):(console.log("2222"),console.log("sutInfo",l.stuInfo[0]),t.updateStuInfo(l.stuInfo[0]));case 17:case"end":return n.stop()}}),n)})))()}})};n.default=g}).call(this,t(1)["default"])},199:function(e,n,t){"use strict";t.r(n);var r=t(200),o=t.n(r);for(var u in r)"default"!==u&&function(e){t.d(n,e,(function(){return r[e]}))}(u);n["default"]=o.a},200:function(e,n,t){}}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/me-login/me-login.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/me-login/me-login-create-component',
    {
        'components/me-login/me-login-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(194))
        })
    },
    [['components/me-login/me-login-create-component']]
]);
